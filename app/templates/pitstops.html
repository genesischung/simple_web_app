{% extends 'base.html' %}

{% block header %}
    <h1>{% block title %}Pitstops{% endblock %}</h1>
{% endblock %}


{% block content %}
    <div class="container-fluid">
    <div class="row">
        <div class="col-md-8">
            <h3>{{ race_name }}</h3>
            <table class="table">
                <thead>
                <tr>
                    <th scope="col">Driver </th>
                    <th scope="col">Lap</th>
                    <th scope="col">Stop</th>
                    <th scope="col">Pitstop Time</th>
                </tr>
                </thead>
                <tbody>
                    {% for pit in pitstop_data %}
                        <tr>
                            <td>{{ pit['driverName'] }}</td>
                            <td>{{ pit['lap'] }}</td>
                            <td>{{ pit['stop'] }}</td>
                            <td>{{ pit['duration'] }}</td>
                        </tr>
                    {% endfor %}
                </tbody>
            </table>
        </div>
        <div class="col-md-4">
    <form>
        <div class="form-group">
            <label for="exampleFormControlSelect1">Select Season</label>
            <select class="form-control" id="season_select">
                <option>2023</option>
                <option>2022</option>
                <option>2021</option>
                <option>2020</option>
                <option>2019</option>
                <option>2018</option>
                <option>2017</option>
                <option>2016</option>
                <option>2015</option>
                <option>2014</option>
                <option>2013</option>
                <option>2012</option>
                <option>2011</option>
                <option>2010</option>
                <option>2009</option>
                <option>2008</option>
                <option>2007</option>
                <option>2006</option>
                <option>2005</option>
                <option>2004</option>
                <option>2003</option>
                <option>2002</option>
                <option>2001</option>
                <option>2000</option>
            </select>
        </div>
        <div class="form-group">
            <label for="exampleFormControlSelect2">Select Round</label>
            <select multiple class="form-control" id="round_select">
                <option selected>1</option>
                <option>2</option>
                <option>3</option>
                <option>4</option>
                <option>5</option>
                <option>6</option>
                <option>7</option>
                <option>8</option>
                <option>9</option>
                <option>10</option>
                <option>11</option>
                <option>12</option>
                <option>13</option>
                <option>14</option>
                <option>15</option>
                <option>16</option>
                <option>17</option>
                <option>18</option>
                <option>19</option>
                <option>20</option>
                <option>21</option>
                <option>22</option>
            </select>
        </div>
        <button type="reset" class="btn btn-primary" id="submit_button">Submit</button>
    </form>
            <script>
                document.getElementById("submit_button").onclick = function() { lookup_pitstop()};

                function lookup_pitstop(){
                    var season = document.getElementById("season_select").value;
                    var rounds = document.getElementById("round_select").value;
                    var url = '/analysis/pitstops/' + season + '/' + rounds
                    /*window.alert(url)*/
                    location.href = url;
                }
            </script>

        </div>
    </div>
{% endblock %}
